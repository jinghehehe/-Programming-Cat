mysql 
crud： 索引部分操作无效
三范式：1 有主键，且字段原子不可分
	2 非主键字段完全依赖主键
	3 非主键和主键之间不出现传递依赖
存储引擎：innodb，MyISAM，tukodb
不存在就更新
insert into t_emp_ip(id, empno, ip)
values (5, 8004, '192.168.99.44'),
       (6, 8005, '192.168.99.45'),
       (7, 8006, '192.168.99.46'),
       (8, 8001, '192.168.99.47')
on duplicate key update ip=values(ip);

5种日志：错误日志、查询日志、慢查询日志、事务日志、二进制日志几大类，其中undo和redo和事务相关，undo拷贝数据，redo记录修改并同步数据

binlog：记录sql语句。
使用场景 主从复制， 数据恢复（mysqlbinlog）
格式：statement row，mixed

主从复制作用
后备数据库，业务拓展io性能，读写分离。

事务acid：原子，一致，隔离，持久
读未提交，读已提交，可重复读，序列化
脏读，不可重复读，幻读。

乐观锁：乐观锁在操作数据时非常乐观，认为别人不会同时修改数据。因此乐观锁不会上锁，只是在执行更新的时候判断一下在此期间别人是否修改了数据：如果别人修改了数据则放弃操作，否则执行操作。
悲观锁：悲观锁在操作数据时比较悲观，认为别人会同时修改数据。因此操作数据时直接把数据锁住，直到操作完成后才会释放锁；上锁期间其他人不能修改数据。

innodb中mvcc属于乐观锁。

数据库中间件mycat，可以实现全局连续主键值。

单节点采用存储过程，函数，触发器，集群无法实现。

数据库集群能支持 更大规模的并发访问，并且 存放更多的数据
高并发解决redis 每秒读写10w，为了避免超售，引入事务机制（避免其他客户端插队）
redis数据类型：字符串，哈希，链表，集合，有序集合
redis持久化：快照rdb，追加式文件aof
redis架构模式：单机，主从，哨兵，集群

pxc集群分片和replication集群分片

