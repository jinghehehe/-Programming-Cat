# Linux软链接/硬链接知识点摘录
***

***

## 硬连接指通过索引节点来进行连接
- 在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号(Inode Index)。在Linux中，多个文件名指向同一索引节点是存在的。一般这种连接就是硬连接。硬连接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬连接到重要文件，以防止“误删”的功能。只有当最后一个连接被删除后，文件的数据块及目录的连接才会被释放。也就是说，文件真正删除的条件是与之相关的所有硬连接文件均被删除。如果我们删除硬链接文件的源文件，硬链接文件仍然存在，而且保留了愿有的内容。这时，系统就“忘记”了它曾经是硬链接文件。而把他当成一个普通文件。
- 其有两个条件：不允许给目录创建硬链接；只有在同一文件系统中的文件之间才能创建链接，而且只有超级用户才有建立硬链接权限。

## 软链接文件有类似于Windows的快捷方式。它实际上是一个特殊的文件。在符号连接中，文件实际上是一个文本文件，其中包含的有另一文件的位置信息。
- 添加软链接
```language
ln -s /sbin/ifconfig /usr/bin （a源文件， b目标文件）
```
- 删除软链接
```language
rm –rf test（软链接名称）
```
- 修改软链接
```language
ln –snf  [新的源文件或目录]  [目标文件或目录]
```

- 查看某文件的node值
```language
ls -i a（查看a文件的node值）
```

样例查看：软链接指向的文件的名称，它是以文件名来指向的。硬链接则指向的是文件的inode值。[http://ivo-wang.github.io/2018/09/21/%E4%B8%80%E6%96%87%E7%9C%8B%E6%87%82linux%E8%BD%AF%E9%93%BE%E6%8E%A5%E4%B8%8E%E7%A1%AC%E9%93%BE%E6%8E%A5/](硬/软链接的样例讲解)






- 软链接没有硬链接以上的两个限制，因而现在更为广泛使用，它具有更大的灵活性，甚至可以跨越不同机器、不同网络对文件进行链接。但是软链接的缺点在于：因为链接文件包含有原文件的路径信息，所以当原文件从一个目录下移到其他目录中，再访问链接文件，系统就找不到了，而硬链接就没有这个缺陷，你想怎么移就怎么移；还有它要系统分配额外的空间用于建立新的索引节点和保存原文件的路径。
